<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Faminto</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #000; overflow: hidden; font-family: 'Segoe UI', sans-serif; }
    canvas { display: block; }

    #hud {
      position: absolute; top: 16px; left: 16px;
      color: #fff; font-size: 18px;
      text-shadow: 1px 1px 3px #000; pointer-events: none;
    }
    #timer {
      position: absolute; top: 16px; left: 50%; transform: translateX(-50%);
      color: #fff; font-size: 32px; font-weight: bold;
      text-shadow: 2px 2px 4px #000; pointer-events: none;
    }
    #leaderboard {
      position: absolute; top: 16px; right: 16px;
      color: #fff; font-size: 14px;
      background: rgba(0,0,0,0.5); padding: 10px 14px;
      border-radius: 8px; min-width: 160px; pointer-events: none;
    }
    #leaderboard h3 {
      margin-bottom: 6px; font-size: 13px;
      text-transform: uppercase; letter-spacing: 1px; color: #ffd700;
    }
    #leaderboard .lb-row { margin: 3px 0; }
    #leaderboard .lb-row.me { color: #00ff88; font-weight: bold; }

    #room-badge {
      position: absolute; bottom: 16px; left: 16px;
      color: #fff; font-size: 13px;
      background: rgba(0,0,0,0.5); padding: 6px 12px;
      border-radius: 6px; pointer-events: none;
    }

    /* â”€â”€ Overlay â”€â”€ */
    #overlay {
      position: absolute; inset: 0;
      background: rgba(0,0,0,0.85);
      display: flex; flex-direction: column;
      align-items: center; justify-content: center; color: #fff;
    }
    #overlay h1 { font-size: 52px; margin-bottom: 8px; }
    #overlay .subtitle { font-size: 18px; color: #aaa; margin-bottom: 32px; }

    #overlay input {
      padding: 10px 16px; font-size: 18px; border-radius: 8px;
      border: none; margin-bottom: 24px; text-align: center; width: 260px;
    }

    .btn-row { display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; justify-content: center; }

    .btn {
      padding: 12px 28px; font-size: 17px; border-radius: 8px;
      border: none; cursor: pointer; font-weight: bold;
    }
    .btn-solo   { background: #2196F3; color: #fff; }
    .btn-create { background: #4CAF50; color: #fff; }
    .btn-join   { background: #FF9800; color: #fff; }
    .btn-editor { background: #9C27B0; color: #fff; }
    .btn:hover { opacity: 0.85; }

    #join-panel {
      display: none; flex-direction: column;
      align-items: center; gap: 10px; margin-top: 8px;
    }
    #join-panel input {
      padding: 10px 16px; font-size: 20px; border-radius: 8px;
      border: none; text-align: center; width: 160px;
      text-transform: uppercase; letter-spacing: 4px; font-weight: bold;
    }
    #join-panel button {
      padding: 10px 24px; font-size: 16px; border-radius: 8px;
      border: none; background: #FF9800; color: #fff; cursor: pointer;
    }

    #room-display {
      display: none; flex-direction: column;
      align-items: center; margin-top: 16px;
      background: rgba(255,255,255,0.1); padding: 16px 24px;
      border-radius: 12px;
    }
    #room-display p { font-size: 14px; color: #aaa; margin-bottom: 6px; }
    #room-display .code {
      font-size: 42px; font-weight: bold; letter-spacing: 8px; color: #ffd700;
    }
    #room-display .hint { font-size: 13px; color: #aaa; margin-top: 6px; }
    #room-display button {
      margin-top: 14px; padding: 12px 32px; font-size: 18px;
      border-radius: 8px; border: none; background: #2196F3;
      color: #fff; cursor: pointer; font-weight: bold;
    }

    #error-msg {
      color: #ff5555; font-size: 15px; margin-top: 8px; min-height: 20px;
    }

    #overlay.hidden { display: none; }

    /* â”€â”€ Round end â”€â”€ */
    #round-end {
      position: absolute; inset: 0;
      background: rgba(0,0,0,0.8);
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      color: #fff; pointer-events: none;
    }
    #round-end h2 { font-size: 40px; color: #ffd700; margin-bottom: 16px; }
    #round-end .lb-item { font-size: 20px; margin: 6px 0; }
    #round-end.hidden { display: none; }
  </style>
</head>
<body>

  <div id="overlay">
    <h1>âš« Faminto</h1>
    <p class="subtitle">Feed the hole. Rule the map.</p>

    <input id="nameInput" type="text" placeholder="Enter your name" maxlength="20" />

    <div class="btn-row">
      <button class="btn btn-solo"   id="btnSolo">Solo Game</button>
      <button class="btn btn-create" id="btnCreate">Create Room</button>
      <button class="btn btn-join"   id="btnJoin">Join Room</button>
      <button class="btn btn-editor" id="btnEditor">ðŸ—º Map Editor</button>
    </div>

    <div id="join-panel">
      <input id="roomCodeInput" type="text" placeholder="CODE" maxlength="6" />
      <button id="btnJoinConfirm">Join</button>
    </div>

    <div id="room-display">
      <p>Share this code with friends:</p>
      <div class="code" id="roomCodeDisplay"></div>
      <div class="hint">Waiting for players... or start now</div>
      <button id="btnStartRoom">Start Game</button>
    </div>

    <div id="error-msg"></div>
  </div>

  <div id="round-end" class="hidden"></div>

  <div id="hud">Size: <span id="sizeDisplay">1.0</span></div>
  <div id="timer">2:00</div>
  <div id="leaderboard">
    <h3>Leaderboard</h3>
    <div id="lbRows"></div>
  </div>
  <div id="room-badge" style="display:none">
    Room: <span id="roomBadgeCode"></span>
  </div>

  <script type="module" src="/src/game.js"></script>
</body>
</html>
